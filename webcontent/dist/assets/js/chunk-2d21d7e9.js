(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d7e9"],{d216:function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-lx-cascades"}),a._v(" 装机日志 ")])],1)],1),t("div",{staticClass:"container"},[t("el-form",{attrs:{inline:!0},model:{value:a.searchData,callback:function(e){a.searchData=e},expression:"searchData"}},[t("el-row",[t("el-col",{attrs:{span:30,inline:!0}},[t("el-form-item",[t("el-input",{staticClass:"handle-input",attrs:{placeholder:"设备名",clearable:""},model:{value:a.searchData.device_name,callback:function(e){a.$set(a.searchData,"device_name",e)},expression:"searchData.device_name"}})],1),t("el-form-item",[t("el-input",{staticClass:"handle-input",attrs:{placeholder:"主机名",clearable:""},model:{value:a.searchData.hostname,callback:function(e){a.$set(a.searchData,"hostname",e)},expression:"searchData.hostname"}})],1),t("el-form-item",[t("el-input",{staticClass:"handle-input",attrs:{placeholder:"sn",clearable:""},model:{value:a.searchData.sn,callback:function(e){a.$set(a.searchData,"sn",e)},expression:"searchData.sn"}})],1),t("el-form-item",[t("el-input",{staticClass:"handle-input",attrs:{placeholder:"状态",clearable:""},model:{value:a.searchData.status,callback:function(e){a.$set(a.searchData,"status",e)},expression:"searchData.status"}})],1),t("el-form-item",[t("el-input",{staticClass:"handle-input",attrs:{placeholder:"pxe_server_ip",clearable:""},model:{value:a.searchData.pxe_server_ip,callback:function(e){a.$set(a.searchData,"pxe_server_ip",e)},expression:"searchData.pxe_server_ip"}})],1),t("el-button",{staticClass:"handle-box",attrs:{icon:"el-icon-search",type:"primary"},on:{click:a.handleSearch}},[a._v("查询")])],1)],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:a.tableData,border:""}},[t("el-table-column",{attrs:{width:"50",type:"index",label:"序号",align:"center"}}),t("af-table-column",{attrs:{prop:"device_name",label:"设备名",align:"center"}}),t("af-table-column",{attrs:{prop:"hostname",label:"主机名",align:"center"}}),t("af-table-column",{attrs:{prop:"sn",label:"sn",align:"center"}}),t("af-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),t("af-table-column",{attrs:{prop:"install",label:"install",align:"center",formatter:a.formatinstall}}),t("af-table-column",{attrs:{prop:"ip",label:"ip",align:"center"}}),t("af-table-column",{attrs:{prop:"gateway",label:"gateway",align:"center"}}),t("af-table-column",{attrs:{prop:"netmask",label:"netmask",align:"center"}}),t("af-table-column",{attrs:{prop:"usage",label:"用途",align:"center"}}),t("af-table-column",{attrs:{prop:"type",label:"type",align:"center"}}),t("af-table-column",{attrs:{prop:"console_ip",label:"console_ip",align:"center"}}),t("af-table-column",{attrs:{prop:"console_user",label:"console_user",align:"center"}}),t("af-table-column",{attrs:{prop:"pxe_server_ip",label:"pxe_server_ip",align:"center"}}),t("af-table-column",{attrs:{prop:"ipmi_server_ip",label:"ipmi_server_ip",align:"center"}}),t("af-table-column",{attrs:{prop:"os_name",label:"os_name",align:"center"}}),t("af-table-column",{attrs:{prop:"os_version",label:"os_version",align:"center"}}),t("af-table-column",{attrs:{prop:"ks_name",label:"ks_name",align:"center"}}),t("af-table-column",{attrs:{prop:"profile",label:"profile",align:"center"}}),t("af-table-column",{attrs:{prop:"install_ip",label:"install_ip",align:"center"}}),t("af-table-column",{attrs:{prop:"location",label:"位置",align:"center"}}),t("af-table-column",{attrs:{prop:"update_time",label:"更新时间",align:"center",formatter:a.dateFormat}})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":a.query.pageIndex,"page-size":a.query.pageSize,total:a.pageTotal},on:{"current-change":a.handlePageChange}})],1)],1)])},n=[],r=(t("99af"),{name:"JobInstallLog",data:function(){return{tableData:[],pageTotal:0,query:{address:"",name:"",pageIndex:1,pageSize:10},searchData:{pxe_server_ip:"",device_name:"",hostname:"",sn:"",status:""},loading:!0}},created:function(){this.getData()},methods:{getData:function(){var a=this;this.$http.get("automation/api/job_install/?current_page=".concat(this.query.pageIndex,"&pre_page=").concat(this.query.pageSize,"&sn=").concat(this.searchData.sn,"&device_name=").concat(this.searchData.device_name,"&hostname=").concat(this.searchData.hostname,"&pxe_server_ip=").concat(this.searchData.pxe_server_ip,"&status=").concat(this.searchData.status),{headers:{token:localStorage.getItem("token")}}).then((function(e){a.tableData=e.data["data"],a.pageTotal=e.data["total_count"],a.loading=!1})).catch((function(e){console.log("失败=="+e),a.$message.error(JSON.stringify(e.response.data)),a.loading=!1}))},handleSearch:function(){this.$set(this.query,"pageIndex",1),this.getData()},dateFormat:function(a,e){var t=a[e.property];if(null!=t){var l=new Date(t),n=l.getFullYear(),r=l.getMonth()+1,s=l.getDate(),c=l.getHours(),i=l.getMinutes(),o=l.getSeconds(),p=n+"-"+r+"-"+s+" "+c+":"+i+":"+o;return p}},handlePageChange:function(a){this.$set(this.query,"pageIndex",a),this.getData()},formatinstall:function(a){return 0==a.install?"成功":1==a.install?"失败":" "}}}),s=r,c=t("2877"),i=Object(c["a"])(s,l,n,!1,null,"e8d5a970",null);e["default"]=i.exports}}]);