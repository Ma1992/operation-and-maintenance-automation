(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00a083ce","chunk-2d0aa9b6"],{1276:function(t,e,a){"use strict";var o=a("d784"),r=a("44e7"),l=a("825a"),n=a("1d80"),s=a("4840"),i=a("8aa5"),c=a("50c4"),p=a("14c3"),d=a("9263"),h=a("d039"),m=[].push,f=Math.min,g=4294967295,u=!h((function(){return!RegExp(g,"y")}));o("split",2,(function(t,e,a){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var o=String(n(this)),l=void 0===a?g:a>>>0;if(0===l)return[];if(void 0===t)return[o];if(!r(t))return e.call(o,t,l);var s,i,c,p=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,u=new RegExp(t.source,h+"g");while(s=d.call(u,o)){if(i=u.lastIndex,i>f&&(p.push(o.slice(f,s.index)),s.length>1&&s.index<o.length&&m.apply(p,s.slice(1)),c=s[0].length,f=i,p.length>=l))break;u.lastIndex===s.index&&u.lastIndex++}return f===o.length?!c&&u.test("")||p.push(""):p.push(o.slice(f)),p.length>l?p.slice(0,l):p}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var r=n(this),l=void 0==e?void 0:e[t];return void 0!==l?l.call(e,r,a):o.call(String(r),e,a)},function(t,r){var n=a(o,t,this,r,o!==e);if(n.done)return n.value;var d=l(t),h=String(this),m=s(d,RegExp),D=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(u?"y":"g"),b=new m(u?d:"^(?:"+d.source+")",y),w=void 0===r?g:r>>>0;if(0===w)return[];if(0===h.length)return null===p(b,h)?[h]:[];var C=0,v=0,_=[];while(v<h.length){b.lastIndex=u?v:0;var S,I=p(b,u?h:h.slice(v));if(null===I||(S=f(c(b.lastIndex+(u?0:v)),h.length))===C)v=i(h,v,D);else{if(_.push(h.slice(C,v)),_.length===w)return _;for(var x=1;x<=I.length-1;x++)if(_.push(I[x]),_.length===w)return _;v=C=S}}return _.push(h.slice(C)),_}]}),!u)},"32a8":function(t,e,a){"use strict";var o=a("8bd0"),r=a.n(o);r.a},"5ed3":function(t,e,a){"use strict";var o=a("7ed1"),r=a.n(o);r.a},"727e":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"charts",staticClass:"echart_container",attrs:{id:t.id}})},r=[],l=(a("ac1f"),a("1276"),{name:"lineCharts",props:{id:{type:String,default:""},data:{type:Object,default:null}},watch:{data:{handler:function(t){this.initOption(t)},deep:!0}},mounted:function(){null==this.data&&""==this.id||this.initOption(this.data)},created:function(){},methods:{initOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xAxisData,a=void 0===e?[]:e,o=t.seriesData,r=void 0===o?[]:o,l=t.animation,n=void 0===l||l,s=document.getElementById(this.id);s.style.width=(window.innerWidth-180)/3+"px";var i=this.$echarts.init(s),c={tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 255, 233,0)"},{offset:.5,color:"rgba(255, 255, 255,1)"},{offset:1,color:"rgba(0, 255, 233,0)"}],global:!1}}}},grid:{top:"15%",left:"5%",right:"7%",bottom:"8%",containLabel:!0},legend:{show:!0,itemWidth:10,itemHeight:10,data:this.data.legendData,textStyle:{color:"#B4B4B4"},top:"2%",right:"10%"},xAxis:{type:"category",boundaryGap:!1,data:a,axisLabel:{textStyle:{color:"#fff"},formatter:function(t){return t.split(" ")[0]+"\n"+t.split(" ")[1]}}},yAxis:[{type:"value",min:0,splitNumber:4,splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.1)"}},axisLine:{show:!0,lineStyle:{color:"#bcccc8"}},axisLabel:{show:!0,margin:20,textStyle:{color:"#d1e6eb"}},axisTick:{show:!0}}],dataZoom:[{show:!0,height:12,xAxisIndex:[0],bottom:"2%",start:0,end:100,handleSize:"100%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:r,animation:n};i.clear(),i.setOption(c,!0),this.$echarts.init(s).resize(),setTimeout((function(){window.addEventListener("resize",(function(){i.resize()}))}),200)},chartssize:function(t,e){function a(t){return window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle}var o=a(t,"height").height;e.style.height=o}}}),n=l,s=(a("32a8"),a("2877")),i=Object(s["a"])(n,o,r,!1,null,"f53521ee",null);e["default"]=i.exports},"7ed1":function(t,e,a){},"83e4":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"wrapper"},[a("el-row",{staticClass:"mlr10 mt10",attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"mb10"},[a("el-row",{staticClass:"serve_select"},[a("el-form",{ref:"form",attrs:{"label-width":"70px"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"IP","label-width":"50px"}},[a("el-select",{staticClass:"select_width",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入IP","remote-method":t.remoteMethod},on:{change:t.changeIp},model:{value:t.manageIp,callback:function(e){t.manageIp=e},expression:"manageIp"}},t._l(t.optionsNetworkIp,(function(t){return a("el-option",{key:t.id,attrs:{label:t.manage_ip,value:t.manage_ip+"/"+t.hostname}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"起止日期"}},[a("el-date-picker",{staticClass:"date_width",attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeIp},model:{value:t.networkTime,callback:function(e){t.networkTime=e},expression:"networkTime"}},[t._v(" > ")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"network_top_top"},[a("div",[a("dl",{staticClass:"top_font_10 mlr10"},[a("dt",{staticClass:"serve_name"},[t._v(t._s(t.storageName))]),a("dd",[t._v("存储名称")])])])])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"network_top_top ml10"},[a("div",[a("dl",{staticClass:"top_font_10 mlr10 "},[a("dt",{staticClass:"time"},[t._v(t._s(t.manageIp))]),a("dd",[t._v("IP")])])])])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"network_top_top mlr10"},[a("dl",{staticClass:"top_font_10"},[a("dt",{staticClass:"serve_name"},[t._v("STORAGE")]),a("dd",[t._v("网络设备类型")])])])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"network_top_top"},[a("dl",{staticClass:"top_font_10"},[a("dt",{staticClass:"serve_name"},[t._v(t._s(t.seriesName))]),a("dd",[t._v("系列名称")])])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"network_top_top ml10"},[a("dl",{staticClass:"top_font_10"},[a("dt",{staticClass:"serve_name"},[t._v(t._s(t.vendorName))]),a("dd",[t._v("厂商")])])])])],1)],1)])],1),a("el-row",{staticClass:"serve_center1 mlr10 mt10",attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.changeTab}},[a("el-tab-pane",{attrs:{label:"节点"}},[a("div",[a("el-select",{staticClass:"change",attrs:{id:"hwperf_node","popper-append-to-body":!1},on:{change:t.changeNode},model:{value:t.hwperfNode,callback:function(e){t.hwperfNode=e},expression:"hwperfNode"}},t._l(t.hwperfNodeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-row",{attrs:{span:24,gutter:10}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("p",{staticClass:"title_p mt10 ml10"},[t._v("IOPS")]),a("div",{staticClass:"chartdDiv"},[a("lineEcharts",{staticClass:"ech_height",attrs:{id:"ipos",data:t.nodeIposData}})],1)])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("p",{staticClass:"title_p mt10 ml10"},[t._v("带宽")]),a("div",{staticClass:"chartdDiv"},[a("lineEcharts",{staticClass:"ech_height",attrs:{id:"traffic",data:t.nodeTrafficData}})],1)])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("p",{staticClass:"title_p mt10 ml10"},[t._v("延时")]),a("div",{staticClass:"chartdDiv"},[a("lineEcharts",{staticClass:"ech_height",attrs:{id:"delay",data:t.nodeDelayData}})],1)])])],1)],1),a("el-tab-pane",{attrs:{label:"控制器"}},[a("div",[a("el-select",{staticClass:"change",attrs:{id:"","popper-append-to-body":!1},on:{change:t.changeController},model:{value:t.HwinfoController,callback:function(e){t.HwinfoController=e},expression:"HwinfoController"}},t._l(t.HwinfoControllerList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-row",{attrs:{span:24,gutter:10}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("p",{staticClass:"title_p mt10 ml10"},[t._v("CPU利用率")]),a("div",{staticClass:"chartdDiv"},[a("lineEcharts",{staticClass:"ech_height",attrs:{id:"cpu",data:t.controllerCpuData}})],1)])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("p",{staticClass:"title_p mt10 ml10"},[t._v("内存利用率")]),a("div",{staticClass:"chartdDiv"},[a("lineEcharts",{staticClass:"ech_height",attrs:{id:"memory",data:t.controllerMemoryData}})],1)])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("p",{staticClass:"title_p mt10 ml10"},[t._v("缓存")]),a("div",{staticClass:"chartdDiv"},[a("lineEcharts",{staticClass:"ech_height",attrs:{id:"cache",data:t.controllerCacheData}})],1)])])],1)],1)],1)],1)],1),a("el-row",{staticClass:"mt10 ml10 mlr10",attrs:{span:24}},[t.showController?a("el-row",{staticClass:"mt10",attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticClass:"table-content",attrs:{data:t.tableControllerData,border:"","max-height":"200px"}},[a("el-table-column",{attrs:{prop:"hwStorageControllerName",label:"控制器名称",align:"center"}}),a("el-table-column",{attrs:{prop:"hwStorageControllerCPUInfo",label:"控制器CPU信息",align:"center"}}),a("el-table-column",{attrs:{prop:"hwStorageControllerVoltage",label:"控制器电压",align:"center"}}),a("el-table-column",{attrs:{prop:"hwStorageControllerHealthStatus",label:"控制器健康状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.hwStorageControllerHealthStatus?a("span",[t._v("正常")]):a("span",[t._v("不正常")])]}}],null,!1,994145007)}),a("el-table-column",{attrs:{prop:"hwStorageControllerMemorySize",label:"控制器内存",align:"center"}})],1)],1)],1):t._e(),t.showDisk?a("el-row",{staticClass:"mt10",attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticClass:"table-content",attrs:{data:t.tableDiskData,border:"","max-height":"200px"}},[a("el-table-column",{attrs:{prop:"hwInfoDiskModel",label:"磁盘型号",align:"center"}}),a("el-table-column",{attrs:{prop:"hwInfoDiskCapacity",label:"磁盘容量",align:"center"}}),a("el-table-column",{attrs:{prop:"hwInfoDiskSerialNumber",label:"磁盘序列号",align:"center"}}),a("el-table-column",{attrs:{prop:"hwInfoDiskType",label:"磁盘类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.hwInfoDiskType?a("span",[t._v("SAS")]):t._e(),"3"===e.row.hwInfoDiskType?a("span",[t._v("SSD")]):t._e()]}}],null,!1,680499411)}),a("el-table-column",{attrs:{prop:"hwInfoDiskManufacturer",label:"磁盘厂商",align:"center"}}),a("el-table-column",{attrs:{prop:"hwInfoDiskRunningStatus",label:"运行状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["27"===e.row.hwInfoDiskRunningStatus?a("span",[t._v("在线")]):a("span",[t._v("不在线")])]}}],null,!1,3375054814)}),a("el-table-column",{attrs:{prop:"hwInfoDiskHealthStatus",label:"磁盘健康状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.hwInfoDiskHealthStatus?a("span",[t._v("正常")]):a("span",[t._v("不正常")])]}}],null,!1,3260346865)})],1)],1)],1):t._e(),t.showLun?a("el-row",{staticClass:"mt10",attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticClass:"table-content",attrs:{data:t.tableLunData,border:"","max-height":"200px"}},[a("el-table-column",{attrs:{prop:"hwInfoLunName",label:"LUN名称",align:"center"}}),a("el-table-column",{attrs:{prop:"hwInfoLunSubscribedCapacity",label:"LUN总容量(G)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.hwInfoLunSubscribedCapacity?(e.row.hwInfoLunSubscribedCapacity/1024).toFixed(2):""))]}}],null,!1,519631169)}),a("el-table-column",{attrs:{prop:"hwInfoLunCapacity",label:"LUN实际占用容量配额(G)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.hwInfoLunCapacity?(e.row.hwInfoLunCapacity/1024).toFixed(2):""))]}}],null,!1,3322470721)})],1)],1)],1):t._e()],1)],1)])},r=[],l=(a("d81d"),a("ac1f"),a("1276"),a("727e")),n={name:"ViewNetwork",components:{lineEcharts:l["default"]},data:function(){return{timer:null,networkTime:[],optionsNetworkIp:[],firmName:"",tableControllerData:[],tableDiskData:[],tableLunData:[],showController:!1,showDisk:!1,showLun:!1,controllerList:[],diskList:[],lunList:[],nodeIposData:{lengedData:"",xAxisData:[],seriesData:[],animation:!0},nodeTrafficData:{lengedData:"",xAxisData:[],seriesData:[],animation:!0},nodeDelayData:{lengedData:"",xAxisData:[],seriesData:[],animation:!0},storageName:"",manageIp:"",vendorName:"",seriesName:"",hwperfNode:"",hwperfNodeList:[],HwinfoController:"",HwinfoControllerList:[],controllerCpuData:{lengedData:"",xAxisData:[],seriesData:[],animation:!0},controllerMemoryData:{lengedData:"",xAxisData:[],seriesData:[],animation:!0},controllerCacheData:{lengedData:"",xAxisData:[],seriesData:[],animation:!0}}},computed:{},created:function(){this.networkTime=[this.Format(new Date-432e5),this.Format(new Date)]},mounted:function(){var t=this,e=window.document.location.href,a=e.split("?");if(void 0==a[1])this.queryOneIp();else{var o=a[1].split("&"),r=o[0].split("=");this.manageIp=r[1];var l=Date.parse(this.networkTime[1])/1e3,n=Date.parse(this.networkTime[0])/1e3;this.serveHistory(n,l)}this.timer=setInterval((function(){t.changeIp()}),3e5)},methods:{queryOneIp:function(){var t=this;this.$http.get("asset/api/storage/?current_page=1&pre_page=1&vendor=华为&is_monitor=是",{headers:{token:localStorage.getItem("token")}}).then((function(e){t.manageIp=e.data.data[0].manage_ip,t.storageName=e.data.data[0].storage_name,t.vendorName=e.data.data[0].vendor.vendor_name,t.seriesName=e.data.data[0].series.series_name;var a=Date.parse(t.networkTime[1])/1e3,o=Date.parse(t.networkTime[0])/1e3;t.serveHistory(o,a)})).catch((function(e){t.$message.error(JSON.stringify(e.response.data))}))},serveHistory:function(t,e){var a=this;this.$http.get("monitor/api/storageitem/monitor?storage_name=STORAGE_".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(o){a.hwperfNode="HWPERFNODE_1",a.hwperfNodeList=[];for(var r=1;r<=o.data.HWPERFNODEDELAY;r++)a.hwperfNodeList.push("HWPERFNODE_"+r);a.getIposData(t,e,a.hwperfNode.split("_")[1]),a.getTrafficData(t,e,a.hwperfNode.split("_")[1]),a.getDelayData(t,e,a.hwperfNode.split("_")[1]),a.HwinfoController="HWINFOCONTROLLER_1",a.HwinfoControllerList=[];for(var l=1;l<=o.data.HWINFOCONTROLLERCPUUSAGE;l++)a.HwinfoControllerList.push("HWINFOCONTROLLER_"+l);a.getCpuData(t,e,a.HwinfoController.split("_")[1]),a.getMemoryData(t,e,a.HwinfoController.split("_")[1]),a.getCacheData(t,e,a.HwinfoController.split("_")[1]);var n=o.data.showTable;if(a.tableControllerData=[],a.tableDiskData=[],a.tableLunData=[],a.showController=!1,a.controllerList=[],a.diskList=[],a.lunList=[],Object.prototype.hasOwnProperty.call(n,"CONTROLLERDATALIST")){for(var s=0;s<n.CONTROLLERDATALIST.length;s++)Object.prototype.hasOwnProperty.call(n.CONTROLLERDATALIST[s],"hwStorageControllerCPUInfo")&&a.tableControllerData.push(n.CONTROLLERDATALIST[s]);a.showController=!0}Object.prototype.hasOwnProperty.call(n,"DISKLIST")&&(a.tableDiskData=n.DISKLIST,a.showDisk=!0),Object.prototype.hasOwnProperty.call(n,"LUNDATALIST")&&(a.tableLunData=n.LUNDATALIST,a.showLun=!0);for(var i=0;i<n.CONTROLLERDATALIST.length;i++)a.controllerList.push(n.CONTROLLERDATALIST[i].hwStorageControllerName)})).catch((function(t){console.log(t),a.$message.error(JSON.stringify(t.response.data))}))},getIposData:function(t,e,a){var o=this;this.$http.get("monitor/api/storageitem/history?start="+t+"&end="+e+"&m=HWPERFNODETOTALIOPS_"+a+",HWPERFNODEREADIOPS_"+a+",HWPERFNODEWRITEIOPS_"+a+"&logic_ip=".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(t){o.nodeIposData={lengedData:"",xAxisData:[],seriesData:[],animation:!0};var e=t.data.time.map((function(t){return o.Format(1e3*t)})),r="HWPERFNODETOTALIOPS_"+a,l="HWPERFNODEREADIOPS_"+a,n="HWPERFNODEWRITEIOPS_"+a;o.nodeIposData.legendData=["总","读","写"],o.nodeIposData.xAxisData=e,o.nodeIposData.seriesData=[{name:"总",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#f0c725"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(204,199,37, 0.8)"},{offset:.8,color:"rgba(204,199,37, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#f0c725",borderColor:"#f0c725"}},data:t.data[r]},{name:"读",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#16f892"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(22,248,146, 0.8)"},{offset:.8,color:"rgba(22,248,146, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#16f892",borderColor:"#16f892"}},data:t.data[l]},{name:"写",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#ff99e4"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255,153,288, 0.8)"},{offset:.8,color:"rgba(255,153,288, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#ff99e4",borderColor:"#ff99e4"}},data:t.data[n]}]})).catch((function(t){o.$message.error(JSON.stringify(t.response.data))}))},getTrafficData:function(t,e,a){var o=this;this.$http.get("monitor/api/storageitem/history?start="+t+"&end="+e+"&m=HWPERFNODETOTALTRAFFIC_"+a+",HWPERFNODEREADTRAFFIC_"+a+",HWPERFNODEWRITETRAFFIC_"+a+"&logic_ip=".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(t){o.nodeTrafficData={lengedData:"",xAxisData:[],seriesData:[],animation:!0};var e=t.data.time.map((function(t){return o.Format(1e3*t)})),r="HWPERFNODETOTALTRAFFIC_"+a,l="HWPERFNODEREADTRAFFIC_"+a,n="HWPERFNODEWRITETRAFFIC_"+a;o.nodeTrafficData.legendData=["总","读","写"],o.nodeTrafficData.xAxisData=e,o.nodeTrafficData.seriesData=[{name:"总",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#f0c725"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(204,199,37, 0.8)"},{offset:.8,color:"rgba(204,199,37, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#f0c725",borderColor:"#f0c725"}},data:t.data[r]},{name:"读",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#16f892"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(22,248,146, 0.8)"},{offset:.8,color:"rgba(22,248,146, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#16f892",borderColor:"#16f892"}},data:t.data[l]},{name:"写",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#ff99e4"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255,153,288, 0.8)"},{offset:.8,color:"rgba(255,153,288, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#ff99e4",borderColor:"#ff99e4"}},data:t.data[n]}]})).catch((function(t){o.$message.error(JSON.stringify(t.response.data))}))},getDelayData:function(t,e,a){var o=this;this.$http.get("monitor/api/storageitem/history?start="+t+"&end="+e+"&m=HWPERFNODEDELAY_"+a+"&logic_ip=".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(t){o.nodeDelayData={lengedData:"",xAxisData:[],seriesData:[],animation:!0};var e=t.data.time.map((function(t){return o.Format(1e3*t)})),r="HWPERFNODEDELAY_"+a;o.nodeDelayData.legendData=["延时"],o.nodeDelayData.xAxisData=e,o.nodeDelayData.seriesData=[{name:"延时",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#9e8cff"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(158,140,255, 0.8)"},{offset:.8,color:"rgba(158,140,255, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#9e8cff",borderColor:"#9e8cff"}},data:t.data[r]}]})).catch((function(t){o.$message.error(JSON.stringify(t.response.data))}))},getCpuData:function(t,e,a){var o=this;this.$http.get("monitor/api/storageitem/history?start="+t+"&end="+e+"&m=HWINFOCONTROLLERCPUUSAGE_"+a+"&logic_ip=".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(t){o.controllerCpuData={lengedData:"",xAxisData:[],seriesData:[],animation:!0};var e=t.data.time.map((function(t){return o.Format(1e3*t)})),r="HWINFOCONTROLLERCPUUSAGE_"+a;o.controllerCpuData.xAxisData=e,o.controllerCpuData.seriesData=[{name:"cpu利用率",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#f0c725"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(204,199,37, 0.8)"},{offset:.8,color:"rgba(204,199,37, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#f0c725",borderColor:"#f0c725"}},data:t.data[r]}]})).catch((function(t){o.$message.error(JSON.stringify(t.response.data))}))},getMemoryData:function(t,e,a){var o=this;this.$http.get("monitor/api/storageitem/history?start="+t+"&end="+e+"&m=HWINFOCONTROLLERMEMORYUSAGE_"+a+"&logic_ip=".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(t){o.controllerMemoryData={lengedData:"",xAxisData:[],seriesData:[],animation:!0};var e=t.data.time.map((function(t){return o.Format(1e3*t)})),r="HWINFOCONTROLLERMEMORYUSAGE_"+a;o.controllerMemoryData.xAxisData=e,o.controllerMemoryData.seriesData=[{name:"内存利用率",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#16f892"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(22,248,146, 0.8)"},{offset:.8,color:"rgba(22,248,146, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#16f892",borderColor:"#16f892"}},data:t.data[r]}]})).catch((function(t){o.$message.error(JSON.stringify(t.response.data))}))},getCacheData:function(t,e,a){var o=this;this.$http.get("monitor/api/storageitem/history?start="+t+"&end="+e+"&m=HWINFOCONTROLLERCACHECAPACITY_"+a+"&logic_ip=".concat(this.manageIp),{headers:{token:localStorage.getItem("token")}}).then((function(t){o.controllerCacheData={lengedData:"",xAxisData:[],seriesData:[],animation:!0};var e=t.data.time.map((function(t){return o.Format(1e3*t)})),r="HWINFOCONTROLLERCACHECAPACITY_"+a;o.controllerCacheData.xAxisData=e,o.controllerCacheData.seriesData=[{name:"缓存",type:"line",smooth:!0,symbol:"circle",symbolSize:3,lineStyle:{normal:{color:"#ff99e4"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255,153,288, 0.8)"},{offset:.8,color:"rgba(255,153,288, 0)"}],global:!1},shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10},itemStyle:{normal:{color:"#ff99e4",borderColor:"#ff99e4"}},data:t.data[r]}]})).catch((function(t){o.$message.error(JSON.stringify(t.response.data))}))},remoteMethod:function(t){var e=this;""!==t?this.$http.get("asset/api/storage/storage?vendor=华为&query=".concat(t,"&is_monitor=是"),{headers:{token:localStorage.getItem("token")}}).then((function(t){e.optionsNetworkIp=[],e.optionsNetworkIp=t.data.map((function(t){return t}))})).catch((function(t){e.$message.error(JSON.stringify(t.response.data))})):this.optionsNetworkIp=[]},changeTab:function(t,e){console.log(t),console.log(e)},changeIp:function(){this.manageIp=this.manageIp.split("/")[0];var t=Date.parse(this.networkTime[1])/1e3,e=Date.parse(this.networkTime[0])/1e3;this.serveHistory(e,t)},changeNode:function(){var t=Date.parse(this.networkTime[1])/1e3,e=Date.parse(this.networkTime[0])/1e3;this.getIposData(e,t,this.hwperfNode.split("_")[1]),this.getTrafficData(e,t,this.hwperfNode.split("_")[1]),this.getDelayData(e,t,this.hwperfNode.split("_")[1])},changeController:function(){var t=Date.parse(this.networkTime[1])/1e3,e=Date.parse(this.networkTime[0])/1e3;this.getCpuData(e,t,this.HwinfoController.split("_")[1]),this.getMemoryData(e,t,this.HwinfoController.split("_")[1]),this.getCacheData(e,t,this.HwinfoController.split("_")[1])},Format:function(t){var e=new Date(t),a=e.getFullYear(),o=e.getMonth()+1;o=o<10?"0"+o:o;var r=e.getDate();r=r<10?"0"+r:r;var l=e.getHours();l=l<10?"0"+l:l;var n=e.getMinutes();n=n<10?"0"+n:n;var s=e.getSeconds();return s=s<10?"0"+s:s,a+"-"+o+"-"+r+" "+l+":"+n+":"+s}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null}},s=n,i=(a("5ed3"),a("2877")),c=Object(i["a"])(s,o,r,!1,null,"5c0571fa",null);e["default"]=c.exports},"8bd0":function(t,e,a){},d81d:function(t,e,a){"use strict";var o=a("23e7"),r=a("b727").map,l=a("1dde"),n=a("ae40"),s=l("map"),i=n("map");o({target:"Array",proto:!0,forced:!s||!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);