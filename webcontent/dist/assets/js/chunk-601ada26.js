(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601ada26","chunk-dd975784"],{"041e":function(t,a,e){},"04b0":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-container"},[e("div",{staticClass:"echart-container",attrs:{id:t.id,data:t.charts}})])},i=[];e("627c");var r={name:"BusinessCountAlarm",data:function(){return{charts:null,ChartLineGraph:null}},props:{id:{type:String,default:""},data:{type:Object,default:null}},computed:{},watch:{data:{handler:function(t){this.drawLineGraph(this.id,t)},deep:!0}},mounted:function(){null!=this.data&&this.drawLineGraph(this.id,this.data)},methods:{drawLineGraph:function(t,a){var e=document.getElementById(t);this.ChartLineGraph=this.$echarts.init(e),this.option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"3%",bottom:"14%",top:"16%",containLabel:!0},legend:{data:["数量"],right:10,top:8,textStyle:{color:"#fff"},itemWidth:12,itemHeight:10},xAxis:{type:"category",data:a.xData,axisLine:{lineStyle:{color:"white"}},axisLabel:{interval:0,textStyle:{fontFamily:"Microsoft YaHei"}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},dataZoom:[{show:!0,height:12,xAxisIndex:[0],bottom:"8%",start:0,end:100,handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"数量",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#8bd46e"},{offset:1,color:"#09bcb7"}]),barBorderRadius:11}},data:a.yData}]},this.ChartLineGraph.setOption(this.option)}},beforeDestroy:function(){clearInterval(this.ChartLineGraph),this.ChartLineGraph=null}},o=r,s=(e("f3e0"),e("2877")),l=Object(s["a"])(o,n,i,!1,null,"086b3e0e",null);a["default"]=l.exports},"2d18":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-container"},[e("div",{staticClass:"echart-container",attrs:{id:t.id,data:t.charts}})])},i=[];e("627c");var r={name:"TagCountAlarm",data:function(){return{charts:null,ChartLineGraph:null}},props:{id:{type:String,default:""},data:{type:Object,default:null}},computed:{},watch:{data:{handler:function(t){this.drawLineGraph(this.id,t)},deep:!0}},mounted:function(){null!=this.data&&this.drawLineGraph(this.id,this.data)},methods:{drawLineGraph:function(t,a){var e=document.getElementById(t);this.ChartLineGraph=this.$echarts.init(e),this.option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"3%",bottom:"14%",top:"16%",containLabel:!0},legend:{data:["数量"],right:10,top:8,textStyle:{color:"#fff"},itemWidth:12,itemHeight:10},xAxis:{type:"category",data:a.xData,axisLine:{lineStyle:{color:"white"}},axisLabel:{interval:0,textStyle:{fontFamily:"Microsoft YaHei"}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},dataZoom:[{show:!0,height:12,xAxisIndex:[0],bottom:"8%",start:0,end:100,handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"数量",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#8bd46e"},{offset:1,color:"#09bcb7"}]),barBorderRadius:11}},data:a.yData}]},this.ChartLineGraph.setOption(this.option)}},beforeDestroy:function(){clearInterval(this.ChartLineGraph),this.ChartLineGraph=null}},o=r,s=(e("c40c"),e("2877")),l=Object(s["a"])(o,n,i,!1,null,"23ee641a",null);a["default"]=l.exports},4848:function(t,a,e){"use strict";var n=e("9bde"),i=e.n(n);i.a},"6ab1":function(t,a,e){},"83f8":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-container"},[e("div",{staticClass:"echart-container",attrs:{id:t.id,data:t.charts}})])},i=[];e("627c");var r={name:"TotalCountAlarm",data:function(){return{charts:null,ChartLineGraph:null}},props:{id:{type:String,default:""},data:{type:Object,default:null}},computed:{},watch:{data:{handler:function(t){this.drawLineGraph(this.id,t)},deep:!0}},mounted:function(){null!=this.data&&this.drawLineGraph(this.id,this.data)},methods:{drawLineGraph:function(t,a){var e=document.getElementById(t);this.ChartLineGraph=this.$echarts.init(e),this.option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"3%",bottom:"14%",top:"16%",containLabel:!0},legend:{data:["数量"],right:10,top:8,textStyle:{color:"#fff"},itemWidth:12,itemHeight:10},xAxis:{type:"category",data:a.xData,axisLine:{lineStyle:{color:"white"}},axisLabel:{interval:0,textStyle:{fontFamily:"Microsoft YaHei"}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},dataZoom:[{show:!0,height:12,xAxisIndex:[0],bottom:"8%",start:0,end:100,handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"数量",type:"bar",barWidth:"15%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#8bd46e"},{offset:1,color:"#09bcb7"}]),barBorderRadius:11}},data:a.yData}]},this.ChartLineGraph.setOption(this.option)}},beforeDestroy:function(){clearInterval(this.ChartLineGraph),this.ChartLineGraph=null}},o=r,s=(e("4848"),e("2877")),l=Object(s["a"])(o,n,i,!1,null,"eca6710a",null);a["default"]=l.exports},"854b":function(t,a,e){},8975:function(t,a,e){"use strict";var n=e("6ab1"),i=e.n(n);i.a},"94fd":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"data",staticClass:"echart_container",attrs:{id:t.id}})},i=[],r={name:"utilizationCharts",props:{id:{type:String,default:""},data:{type:Object,default:null}},watch:{data:{handler:function(t){this.initOption(t)},deep:!0}},mounted:function(){null==this.data&&""==this.id||this.initOption(this.id,this.data)},created:function(){},methods:{initOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.myColor,e=void 0===a?[]:a,n=(t.yAxisData,t.seriesData,this.$echarts.init(document.getElementById(this.id)));e=this.data.myColor;var i={tooltip:{trigger:"axis"},grid:{top:"5%",left:"6%",right:"8%",bottom:"2%",containLabel:!0},xAxis:[{show:!1}],yAxis:[{axisTick:"none",axisLine:"none",offset:"10",axisLabel:{textStyle:{color:"#ffffff",fontSize:"12"}},data:this.data.yAxisData},{data:[]},{data:[]}],series:[{type:"bar",yAxisIndex:0,data:this.data.seriesData,label:{normal:{formatter:"{c}%",show:!0,position:"right",textStyle:{color:"#ffffff",fontSize:"12"}}},barWidth:10,itemStyle:{normal:{color:function(t){var a=e.length;return e[t.dataIndex%a]}}},z:2},{name:"白框",type:"bar",yAxisIndex:1,barGap:"-100%",data:[99,99.5,99.5],barWidth:13,itemStyle:{normal:{color:"#24273e",barBorderRadius:5}},z:1},{name:"外框",type:"bar",yAxisIndex:2,barGap:"-100%",data:[100,100,100],barWidth:16,itemStyle:{normal:{color:function(t){var a=e.length;return e[t.dataIndex%a]},barBorderRadius:5}},z:0},{name:"外圆",type:"scatter",hoverAnimation:!1,data:[0,0,0],yAxisIndex:2,symbolSize:20,itemStyle:{normal:{color:function(t){var a=e.length;return e[t.dataIndex%a]},opacity:1}},z:2}]};n.setOption(i,!0),setTimeout((function(){window.addEventListener("resize",(function(){n.resize()}))}),200)}}},o=r,s=(e("f6edc"),e("2877")),l=Object(s["a"])(o,n,i,!1,null,"421031b8",null);a["default"]=l.exports},"9bde":function(t,a,e){},a992:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.remain_alarm_count[0]&&t.total_alarm_count[0]?e("div",{staticClass:"wrapper"},[e("el-row",{staticClass:"mlr10 mt10",attrs:{span:24}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mr10"},[e("p",[t._v("告警中数量/告警总数量")]),e("p",{staticStyle:{"padding-top":"50px","text-align":"center","font-size":"80px"}},[t._v(t._s(t.remain_alarm_count[0].value)+"/"+t._s(t.total_alarm_count[0].value))])])]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height"},[e("p",[t._v("告警信息")]),e("div",[e("el-col",{attrs:{span:9}},[e("ul",{staticClass:"warnNum"},[e("li",[e("span",{staticClass:"warn_word"},[t._v("提示")]),e("span",{staticClass:"warn_num"},[t._v(t._s(t.hintNum))])]),e("li",[e("span",{staticClass:"warn_word"},[t._v("报警")]),e("span",{staticClass:"warn_num"},[t._v(t._s(t.reportNum))])]),e("li",[e("span",{staticClass:"warn_word"},[t._v("重要")]),e("span",{staticClass:"warn_num"},[t._v(t._s(t.importNum))])]),e("li",[e("span",{staticClass:"warn_word"},[t._v("严重")]),e("span",{staticClass:"warn_num"},[t._v(t._s(t.badlyNum))])]),e("li",[e("span",{staticClass:"warn_word"},[t._v("紧急")]),e("span",{staticClass:"warn_num"},[t._v(t._s(t.urgencyNum))])])])]),e("el-col",{attrs:{span:13,offset:1}},[e("div",{staticClass:"warnDiv"},[e("ul",t._l(t.warnData,(function(a,n){return e("li",{key:n,class:a.iconClass},[e("div",[t._v(t._s(a.info))]),e("div",{staticClass:"warn_time_p"},[t._v(t._s(a.time))])])})),0)])])],1)])])],1),e("el-row",{staticClass:"mtb10"},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mlr10"},[e("p",[t._v("5分钟内cpu利用率TOP3")]),e("topnBar",{attrs:{id:"cpuTop",data:t.cpuTopData}})],1)]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mr10"},[e("p",[t._v("5分钟内内存利用率TOP3")]),e("topnBar",{attrs:{id:"memTop",data:t.memTopData}})],1)])],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mlr10"},[e("p",[t._v("不同等级告警数量统计饼图")]),e("LevelCountAlarm",{attrs:{id:t.level_id,data:t.level_alarm_count}})],1)]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mb10 mr10"},[e("p",[t._v("不同类型告警数量统计柱状图")]),e("TotalCountAlarm1",{attrs:{id:t.type_id_1,data:t.type_alarm_count1}})],1)])],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mb10 mlr10"},[e("p",[t._v("不同标签告警数量统计柱状图")]),e("TagCountAlarm",{attrs:{id:t.tag_id,data:t.tag_alarm_count}})],1)]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"serve_top_r_t asset_center_height mr10"},[e("p",[t._v("不同业务告警数量统计柱状图")]),e("BusinessCountAlarm",{attrs:{id:t.business_id,data:t.business_alarm_count}})],1)])],1)],1):t._e()])},i=[],r=(e("99af"),e("d81d"),e("b0c0"),e("b85c")),o=e("ae13"),s=e("83f8"),l=e("2d18"),c=e("04b0"),d=e("94fd"),u={name:"ViewServe",components:{TotalCountAlarm1:s["default"],LevelCountAlarm:o["default"],topnBar:d["default"],TagCountAlarm:l["default"],BusinessCountAlarm:c["default"]},data:function(){return{level_alarm_count:[],type_alarm_count:[],total_alarm_count:[],remain_alarm_count:[],level_alarm_count1:[],type_alarm_count1:[],tag_alarm_count:[],business_alarm_count:[],total_id:"total_id",level_id:"level_id",level_id_1:"level_id_1",type_id:"type_id",type_id_1:"type_id_1",tag_id:"tag_id",business_id:"business_id",cpuTopData:{myColor:[],yAxisData:[],seriesData:[]},memTopData:{myColor:[],yAxisData:[],seriesData:[]},warnData:[],hintNum:0,reportNum:0,badlyNum:0,importNum:0,urgencyNum:0}},computed:{},created:function(){this.optionData(),this.queryTopn()},methods:{optionData:function(){var t=this;this.$http.get("monitor/api/alarm_detail/alarm_count/",{headers:{token:localStorage.getItem("token")}}).then((function(a){for(var e in a.data.level_count.map((function(a){"5"==a.name?(t.urgencyNum=a.value,console.log(t.urgencyNum)):"4"==a.name?t.badlyNum=a.value:"3"==a.name?t.importNum=a.value:"2"==a.name?t.reportNum=a.value:"1"==a.name&&(t.hintNum=a.value)})),t.level_alarm_count=a.data["level_count"],t.level_alarm_count)1==t.level_alarm_count[e].name?t.level_alarm_count[e].name="提示":2==t.level_alarm_count[e].name?t.level_alarm_count[e].name="报警":3==t.level_alarm_count[e].name?t.level_alarm_count[e].name="重要":4==t.level_alarm_count[e].name?t.level_alarm_count[e].name="严重":5==t.level_alarm_count[e].name?t.level_alarm_count[e].name="紧急":t.level_alarm_count[e].name="";var n,i=[],o=[],s=Object(r["a"])(t.level_alarm_count);try{for(s.s();!(n=s.n()).done;){var l=n.value;i.push(l.name),o.push(l.value)}}catch(L){s.e(L)}finally{s.f()}t.level_alarm_count1={xData:i,yData:o},t.type_alarm_count=a.data["object_count"];var c,d=[],u=[],h=Object(r["a"])(t.type_alarm_count);try{for(h.s();!(c=h.n()).done;){var m=c.value;d.push(m.name),u.push(m.value)}}catch(L){h.e(L)}finally{h.f()}t.type_alarm_count1={xData:d,yData:u};var p,_=[],f=[],v=Object(r["a"])(a.data["tag_count"]);try{for(v.s();!(p=v.n()).done;){var y=p.value;_.push(y.name),f.push(y.value)}}catch(L){v.e(L)}finally{v.f()}t.tag_alarm_count={xData:_,yData:f};var b,g=[],x=[],C=Object(r["a"])(a.data["business_count"]);try{for(C.s();!(b=C.n()).done;){var w=b.value;g.push(w.name),x.push(w.value)}}catch(L){C.e(L)}finally{C.f()}t.business_alarm_count={xData:g,yData:x},t.total_alarm_count=a.data["total_count"],t.remain_alarm_count=a.data["remain_count"],void 0==a.data.remain_alarm_detail&&0==a.data.remain_alarm_detail.length||(t.warnData=a.data.remain_alarm_detail.map((function(t){var a={};a.info="".concat(t.server_type).concat(t.alarm_ip,"发生").concat(t.alarm_level,"告警"),a.time=t.alarm_last_time;var e="提示"==t.alarm_level?"hint_icon":"报警"==t.alarm_level?"warn_icon":"重要"==t.alarm_level?"import_icon":"严重"==t.alarm_level?"badly_icon":"urgency_icon";return a.iconClass=e,a})))})).catch((function(a){t.$message.error(JSON.stringify(a.response.data))}))},queryTopn:function(){var t=this;this.$http.get("monitor/api/analysis/?type=cpu_percent&num=3",{headers:{token:localStorage.getItem("token")}}).then((function(a){if(0!=a.data.length||null!=a.data){var e=a.data.map((function(t){return t.host_name+"/"+t.host_ip})),n=a.data.map((function(t){return t.indicator_value}));t.cpuTopData.myColor=["#d0a00e","#34da62","#00e9db"],t.cpuTopData.yAxisData=e,t.cpuTopData.seriesData=n}})).catch((function(a){t.$message.error(JSON.stringify(a.response.data))})),this.$http.get("monitor/api/analysis/?type=mem_percent&num=3",{headers:{token:localStorage.getItem("token")}}).then((function(a){if(0!=a.data.length||null!=a.data){var e=a.data.map((function(t){return t.host_name+"/"+t.host_ip})),n=a.data.map((function(t){return t.indicator_value}));t.memTopData.myColor=["#0096f3","#33CCFF","#33FFCC"],t.memTopData.yAxisData=e,t.memTopData.seriesData=n}})).catch((function(a){t.$message.error(JSON.stringify(a.response.data))}))}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},h=u,m=(e("ca47"),e("2877")),p=Object(m["a"])(h,n,i,!1,null,"300bd1da",null);a["default"]=p.exports},aafe:function(t,a,e){},acba:function(t,a,e){},ae13:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-container"},[e("div",{staticClass:"echart-container",attrs:{id:t.id,data:t.charts}})])},i=[],r={name:"baseEchartsAllComponent",data:function(){return{charts:null,ChartLineGraph:null}},watch:{data:{handler:function(t){this.drawLineGraph(this.id,t)},deep:!0}},props:{id:{type:String,default:""},data:{type:Array,default:null}},mounted:function(){null!=this.data&&this.drawLineGraph(this.id,this.data)},methods:{drawLineGraph:function(t,a){var e=document.getElementById(t);this.ChartLineGraph=this.$echarts.init(e),this.optionBusiness={color:["#ffdb5c","#ff9f7f","#fb7293","#e7bcf3","#8378ea","#37a2da","#32c5e9","#9fe6b8"],tooltip:{trigger:"item",formatter:"{b} <br/>数量: {c} <br/>占比: {d}%"},toolbox:{show:!0},legend:{type:"scroll",orient:"vertical",right:"6%",align:"left",top:"top",textStyle:{color:"#8C8C8C"},height:150},series:[{name:"业务",type:"pie",radius:[0,70],data:a}]},this.ChartLineGraph.setOption(this.optionBusiness)}},beforeDestroy:function(){clearInterval(this.ChartLineGraph),this.ChartLineGraph=null}},o=r,s=(e("8975"),e("2877")),l=Object(s["a"])(o,n,i,!1,null,"8750d12e",null);a["default"]=l.exports},c40c:function(t,a,e){"use strict";var n=e("aafe"),i=e.n(n);i.a},ca47:function(t,a,e){"use strict";var n=e("854b"),i=e.n(n);i.a},d81d:function(t,a,e){"use strict";var n=e("23e7"),i=e("b727").map,r=e("1dde"),o=e("ae40"),s=r("map"),l=o("map");n({target:"Array",proto:!0,forced:!s||!l},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},f3e0:function(t,a,e){"use strict";var n=e("041e"),i=e.n(n);i.a},f6edc:function(t,a,e){"use strict";var n=e("acba"),i=e.n(n);i.a}}]);