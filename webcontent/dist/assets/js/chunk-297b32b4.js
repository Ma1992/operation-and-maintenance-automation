(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-297b32b4"],{"3fb5":function(e,t,a){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),n=a("5899"),o="["+n+"]",l=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),i=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(l,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},7156:function(e,t,a){var r=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var o,l;return n&&"function"==typeof(o=t.constructor)&&o!==a&&r(l=o.prototype)&&l!==a.prototype&&n(e,l),e}},"94e7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 供应商 ")])],1)],1),a("div",{staticClass:"container"},[a("el-form",{attrs:{inline:!0},model:{value:e.searchData,callback:function(t){e.searchData=t},expression:"searchData"}},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[a("div",[a("el-button",{staticClass:"handle-box",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleAdd()}}},[e._v("增加 ")])],1),a("div",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[a("el-form-item",[a("el-input",{staticClass:"handle-input",attrs:{clearable:"",placeholder:"供应商名称"},model:{value:e.searchData.vendor_name,callback:function(t){e.$set(e.searchData,"vendor_name",t)},expression:"searchData.vendor_name"}})],1),a("el-form-item",[a("el-input",{staticClass:"handle-input",attrs:{clearable:"",placeholder:"联系人"},model:{value:e.searchData.contact,callback:function(t){e.$set(e.searchData,"contact",t)},expression:"searchData.contact"}})],1),a("el-form-item",[a("el-input",{staticClass:"handle-input",attrs:{clearable:"",placeholder:"电话"},model:{value:e.searchData.phone,callback:function(t){e.$set(e.searchData,"phone",t)},expression:"searchData.phone"}})],1),a("el-form-item",[a("el-input",{staticClass:"handle-input",attrs:{clearable:"",placeholder:"邮箱"},model:{value:e.searchData.email,callback:function(t){e.$set(e.searchData,"email",t)},expression:"searchData.email"}})],1),a("el-button",{staticClass:"handle-box",attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:"50",type:"index",label:"序号",align:"center"}}),a("af-table-column",{attrs:{prop:"vendor_name",label:"名称",align:"center"}}),a("af-table-column",{attrs:{prop:"address",label:"地址",align:"center"}}),a("af-table-column",{attrs:{prop:"contact",label:"联系人",align:"center"}}),a("af-table-column",{attrs:{prop:"phone",label:"电话",align:"center"}}),a("af-table-column",{attrs:{prop:"email",label:"邮箱",align:"center"}}),a("af-table-column",{attrs:{prop:"main_products",label:"产品说明",align:"center"}}),a("af-table-column",{attrs:{prop:"sign_up_time",label:"成立时间",align:"center"}}),a("af-table-column",{attrs:{prop:"enterprise_type",label:"企业类型",align:"center"}}),a("af-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),a("af-table-column",{attrs:{prop:"update_time",label:" 更新时间 ",align:"center",formatter:e.dateFormat}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑 ")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handledelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),a("el-dialog",{attrs:{title:e.makeTitle,visible:e.editVisible,width:"50%"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"85px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"vendor_name"}},[a("el-input",{model:{value:e.form.vendor_name,callback:function(t){e.$set(e.form,"vendor_name",t)},expression:"form.vendor_name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人",prop:"contact"}},[a("el-input",{model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"产品说明"}},[a("el-input",{model:{value:e.form.main_products,callback:function(t){e.$set(e.form,"main_products",t)},expression:"form.main_products"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成立时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",editable:!1,"value-format":"yyyy-MM-dd"},model:{value:e.form.sign_up_time,callback:function(t){e.$set(e.form,"sign_up_time",t)},expression:"form.sign_up_time"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"企业类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择企业类型"},model:{value:e.form.enterprise_type,callback:function(t){e.$set(e.form,"enterprise_type",t)},expression:"form.enterprise_type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1)],1)},n=[],o=(a("99af"),a("c54a")),l={name:"staff",data:function(){return{tableData:[],editVisible:!1,form:{},id:-1,staffData:[],pageTotal:0,query:{address:"",name:"",pageIndex:1,pageSize:10},searchData:{vendor_name:"",contact:"",phone:"",email:""},makeTitle:"",typeOptions:[{value:"合资"},{value:"独资"},{value:"国有"},{value:"私营"},{value:"全民所有制"},{value:"集体所有制"},{value:"股份制"},{value:"有限责任"}],rules:{vendor_name:[{required:!0,message:"请输入厂商名称"},{trigger:"blur"}],address:[{required:!0,message:"请输入厂商地址"},{trigger:"blur"}],contact:[{required:!0,message:"请输入联系人"},{trigger:"blur"}],phone:[{required:!0,message:"请输入联系方式"},{validator:o["validatePhoneTwo"],trigger:"blur"}],email:[{required:!0,message:"请输入邮箱"},{validator:o["validateEMail"],trigger:"blur"}]},loading:!0}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$http.get("asset/api/vendor/?current_page=".concat(this.query.pageIndex,"&pre_page=").concat(this.query.pageSize,"&vendor_name=").concat(this.searchData.vendor_name,"&contact=").concat(this.searchData.contact,"&phone=").concat(this.searchData.phone,"&email=").concat(this.searchData.email),{headers:{token:localStorage.getItem("token")}}).then((function(t){e.tableData=t.data["data"],e.pageTotal=t.data["total_count"],e.loading=!1})).catch((function(t){console.log("失败=="+t),e.$message.error(t),e.loading=!1}))},handleEdit:function(e){var t=this;this.id=e.id,this.makeTitle="编辑",this.form=JSON.parse(JSON.stringify(e)),this.editVisible=!0,this.$nextTick((function(){t.$refs.form.clearValidate()}))},saveEdit:function(){var e=this;this.$refs.form.validate().then((function(t){console.log(t),"增加"==e.makeTitle?e.$http.post("asset/api/vendor/",e.form,{headers:{token:localStorage.getItem("token")}}).then((function(t){e.editVisible=!1,console.log("Response:"+JSON.stringify(t)),e.$message.success("保存成功"),e.form={},e.searchData={vendor_name:"",contact:"",phone:"",email:""},e.getData()})).catch((function(t){console.log("Error"+t.response),e.$message.error(JSON.stringify(t.response.data))})):e.$http.put("asset/api/vendor/".concat(e.id,"/"),e.form,{headers:{token:localStorage.getItem("token")}}).then((function(t){e.editVisible=!1,console.log("Response:"+JSON.stringify(t)),e.$message.success("修改成功"),e.getData()})).catch((function(t){e.$message.error(JSON.stringify(t.response.data))}))})).catch((function(t){console.log(t),e.$message.error("参数错误")}))},handleAdd:function(){var e=this;this.form={},this.makeTitle="增加",this.editVisible=!0,this.$nextTick((function(){e.$refs.form.clearValidate()}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},handleSearch:function(){this.$set(this.query,"pageIndex",1),this.getData()},handledelete:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){t.$http.delete("asset/api/vendor/".concat(e.id),{headers:{token:localStorage.getItem("token")}}).then((function(e){204===e.status?(t.$message.success("删除成功！"),t.$set(t.query,"pageIndex",1),t.getData()):t.$message.error(e.data.msg)})).catch((function(e){console.log("Error"+e.response),t.$message.error(JSON.stringify(e.response.data))}))}))},dateFormat:function(e,t){var a=e[t.property];if(null!=a){var r=new Date(a),n=r.getFullYear(),o=r.getMonth()+1,l=r.getDate(),s=r.getHours(),i=r.getMinutes(),c=r.getSeconds(),u=n+"-"+o+"-"+l+" "+s+":"+i+":"+c;return u}},animate:function(){var e=/^1\d{10}$/,t=this.form.phone;e.test(t)?(this.phoneValue=0,console.log("成功")):(this.phoneValue=1,this.$message.success("手机号格式错误！"))}}},s=l,i=(a("d239"),a("2877")),c=Object(i["a"])(s,r,n,!1,null,"05d31e2a",null);t["default"]=c.exports},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),o=a("94ca"),l=a("6eeb"),s=a("5135"),i=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),p=a("241c").f,m=a("06cf").f,h=a("9bf2").f,g=a("58a8").trim,b="Number",v=n[b],_=v.prototype,y=i(f(_))==b,k=function(e){var t,a,r,n,o,l,s,i,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(o=c.slice(2),l=o.length,s=0;s<l;s++)if(i=o.charCodeAt(s),i<48||i>n)return NaN;return parseInt(o,r)}return+c};if(o(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,$=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof $&&(y?d((function(){_.valueOf.call(a)})):i(a)!=b)?c(new v(k(t)),a,$):k(t)},w=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;w.length>D;D++)s(v,x=w[D])&&!s($,x)&&h($,x,m(v,x));$.prototype=_,_.constructor=$,l(n,b,$)}},c54a:function(e,t,a){"use strict";a.r(t),a.d(t,"validateIP",(function(){return r})),a.d(t,"validateMac",(function(){return n})),a.d(t,"validateCh",(function(){return o})),a.d(t,"validatePhoneTwo",(function(){return l})),a.d(t,"validateEMail",(function(){return s})),a.d(t,"isInteger",(function(){return i}));a("a9e3");function r(e,t,a){if(""==t||void 0==t||null==t)a();else{var r=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;r.test(t)||""==t?a():a(new Error("请输入正确的IP地址"))}}function n(e,t,a){if(""==t||void 0==t||null==t)a();else{var r=/[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}/;r.test(t)||""==t?a():a(new Error("请输入正确的MAC地址"))}}function o(e,t,a){if(""==t||void 0==t||null==t)a();else{var r=/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi;r.test(t)?a(new Error("名称不能含有中文")):a()}}function l(e,t,a){var r=/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/;""==t||void 0==t||null==t||r.test(t)||""==t?a():a(new Error("请输入正确的电话号码或者固话号码"))}function s(e,t,a){var r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;""==t||void 0==t||null==t||r.test(t)?a():a(new Error("请输入正确的邮箱地址"))}function i(e,t,a){if(!t)return a(new Error("输入不可以为空"));setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,r=e.test(t);r?a():a(new Error("请输入数字"))}else a(new Error("请输入数字"))}),0)}},d239:function(e,t,a){"use strict";var r=a("3fb5"),n=a.n(r);n.a}}]);